{"version":3,"sources":["pages/Karas/Ranking.js"],"names":["KaraList","props","_this","Object","_home_bibah_Documents_Karaoke_Mugen_karaokemugen_app_react_client_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_bibah_Documents_Karaoke_Mugen_karaokemugen_app_react_client_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_bibah_Documents_Karaoke_Mugen_karaokemugen_app_react_client_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","columns","title","dataIndex","key","render","requested","language","toUpperCase","serie","record","singer","songtype","replace","songorder","state","karas","kara","refresh","_this2","loading","axios","get","then","res","setState","data","catch","err","errorMessage","concat","response","status","statusText","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","antd__WEBPACK_IMPORTED_MODULE_8__","Content","style","padding","textAlign","antd__WEBPACK_IMPORTED_MODULE_9__","dataSource","rowKey","antd__WEBPACK_IMPORTED_MODULE_10__","type","onClick","bind","Component","connect","loadingActive","navigation","dispatch","active","message","warnMessage"],"mappings":"yNAOMA,cAEL,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IAClBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAqCPQ,QAAU,CAAC,CACVC,MAAO,YACPC,UAAW,YACXC,IAAK,YACLC,OAAQ,SAAAC,GAAS,OAAIA,IACnB,CACFJ,MAAO,WACPC,UAAW,WACXC,IAAK,WACLC,OAAQ,SAAAE,GAAQ,OAAKA,EAASC,gBAC5B,CACFN,MAAO,gBACPC,UAAW,QACXC,IAAK,QACLC,OAAQ,SAACI,EAAOC,GAAR,OAAoBD,GAASC,EAAOC,SAC1C,CACFT,MAAO,OACPC,UAAW,WACXC,IAAK,WACLC,OAAQ,SAACO,EAAUF,GAAX,OAAuBE,EAASC,QAAQ,QAAQ,IAAM,IAAMH,EAAOI,YACzE,CACFZ,MAAO,QACPC,UAAW,QACXC,IAAK,UA3DLV,EAAKqB,MAAQ,CACZC,MAAO,GACPC,KAAM,IAJWvB,mFASlBG,KAAKqB,4CAGI,IAAAC,EAAAtB,KACTA,KAAKJ,MAAM2B,SAAQ,GACnBC,IAAMC,IAAI,sBACRC,KAAK,SAAAC,GACLL,EAAK1B,MAAM2B,SAAQ,GACnBD,EAAKM,SAAS,CAACT,MAAOQ,EAAIE,SAE1BC,MAAM,SAAAC,GACNT,EAAK1B,MAAM2B,SAAQ,GACnBD,EAAK1B,MAAMoC,aAAX,GAAAC,OAA2BF,EAAIG,SAASC,OAAxC,MAAAF,OAAmDF,EAAIG,SAASE,WAAhE,MAAAH,OAA+EF,EAAIG,SAASL,0CAK9F,OACCQ,EAAAC,EAAAC,cAACC,EAAA,EAAOC,QAAR,CAAgBC,MAAO,CAAEC,QAAS,YAAaC,UAAW,WACzDP,EAAAC,EAAAC,cAACM,EAAA,EAAD,CACCC,WAAY9C,KAAKkB,MAAMC,MACvBf,QAASJ,KAAKI,QACd2C,OAAO,cAERV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQC,KAAK,UAAUC,QAASlD,KAAKqB,QAAQ8B,KAAKnD,OAAlD,mBAnCmBoD,aA6ERC,sBAVS,SAACnC,GAAD,MAAY,CACnCoC,cAAepC,EAAMqC,WAAWhC,UAGN,SAACiC,GAAD,MAAe,CACzCjC,QAAS,SAACkC,GAAD,OAAYD,EAASjC,YAAQkC,KACtCzB,aAAc,SAAC0B,GAAD,OAAaF,EAASxB,YAAa0B,KACjDC,YAAa,SAACD,GAAD,OAAaF,EAASG,YAAYD,OAGjCL,CAA6C1D","file":"static/js/13.3cca79ea.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport {connect} from 'react-redux';\r\nimport {Button, Layout, Table} from 'antd';\r\n\r\nimport {loading, errorMessage, warnMessage} from '../../actions/navigation';\r\n\r\nclass KaraList extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tkaras: [],\t\t\t\r\n\t\t\tkara: {}\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.refresh();\r\n\t}\r\n\r\n\trefresh() {\r\n\t\tthis.props.loading(true);\r\n\t\taxios.get('/api/karas/ranking')\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.props.loading(false);\r\n\t\t\t\tthis.setState({karas: res.data});\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.props.loading(false);\r\n\t\t\t\tthis.props.errorMessage(`${err.response.status}: ${err.response.statusText}. ${err.response.data}`);\r\n\t\t\t});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Layout.Content style={{ padding: '25px 50px', textAlign: 'center' }}>\r\n\t\t\t\t<Table\r\n\t\t\t\t\tdataSource={this.state.karas}\r\n\t\t\t\t\tcolumns={this.columns}\r\n\t\t\t\t\trowKey='requested'\r\n\t\t\t\t/>\r\n\t\t\t\t<Button type='primary' onClick={this.refresh.bind(this)}>Refresh</Button>\t\t\t\t\r\n\t\t\t</Layout.Content>\r\n\t\t);\r\n\t}\r\n\r\n\tcolumns = [{\r\n\t\ttitle: 'Requested',\r\n\t\tdataIndex: 'requested',\r\n\t\tkey: 'requested',\r\n\t\trender: requested => requested,\r\n\t}, {\r\n\t\ttitle: 'Language',\r\n\t\tdataIndex: 'language',\r\n\t\tkey: 'language',\r\n\t\trender: language => (language.toUpperCase())\r\n\t}, {\r\n\t\ttitle: 'Series/Singer',\r\n\t\tdataIndex: 'serie',\r\n\t\tkey: 'serie',\t\r\n\t\trender: (serie, record) => (serie || record.singer)\r\n\t}, {\r\n\t\ttitle: 'Type',\r\n\t\tdataIndex: 'songtype',\r\n\t\tkey: 'songtype',\t\t\r\n\t\trender: (songtype, record) => (songtype.replace('TYPE_','') + ' ' + record.songorder)\r\n\t}, {\r\n\t\ttitle: 'Title',\r\n\t\tdataIndex: 'title',\r\n\t\tkey: 'title'\t\t\r\n\t}];\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tloadingActive: state.navigation.loading\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n\tloading: (active) => dispatch(loading(active)),\r\n\terrorMessage: (message) => dispatch(errorMessage(message)),\r\n\twarnMessage: (message) => dispatch(warnMessage(message))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(KaraList);\r\n"],"sourceRoot":""}