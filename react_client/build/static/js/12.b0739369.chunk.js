(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{510:function(e,t,n){"use strict";n.r(t);var r=n(20),a=n(21),i=n(23),o=n(22),s=n(24),c=n(0),u=n.n(c),d=n(49),l=n.n(d),p=n(25),g=n(521),f=n(516),h=n(54),k=n(27),w=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).columns=[{title:"Language",dataIndex:"language",key:"language",render:function(e){return e.toUpperCase()}},{title:"Series/Singer",dataIndex:"serie",key:"serie",render:function(e,t){return e||t.singer}},{title:"Type",dataIndex:"songtype",key:"songtype",render:function(e,t){return e.replace("TYPE_","")+" "+t.songorder}},{title:"Title",dataIndex:"title",key:"title"},{title:"View count",dataIndex:"viewcount",key:"viewcount",render:function(e){return e}},{title:"Seen on",dataIndex:"viewed_at",key:"viewed_at",render:function(e){return new Date(1e3*e).toLocaleString("en")},defaultSortOrder:"descend",sorter:function(e,t){return e.viewed_at-t.viewed_at}}],n.state={karas:[],kara:{}},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=this;this.props.loading(!0),l.a.get("/api/karas/history").then(function(t){e.props.loading(!1),e.setState({karas:t.data})}).catch(function(t){e.props.loading(!1),e.props.errorMessage("".concat(t.response.status,": ").concat(t.response.statusText,". ").concat(t.response.data))})}},{key:"render",value:function(){return u.a.createElement(g.a.Content,{style:{padding:"25px 50px",textAlign:"center"}},u.a.createElement(f.a,{dataSource:this.state.karas,columns:this.columns,rowKey:"viewed_at"}),u.a.createElement(h.a,{type:"primary",onClick:this.refresh.bind(this)},"Refresh"))}}]),t}(c.Component);t.default=Object(p.b)(function(e){return{loadingActive:e.navigation.loading}},function(e){return{loading:function(t){return e(Object(k.i)(t))},errorMessage:function(t){return e(Object(k.g)(t))},warnMessage:function(t){return e(Object(k.j)(t))}}})(w)}}]);
//# sourceMappingURL=12.b0739369.chunk.js.map