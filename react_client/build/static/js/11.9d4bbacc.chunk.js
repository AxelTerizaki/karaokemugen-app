(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{520:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.r(t);var a=n(20),i=n(23),o=n(22),s=n(21),u=n(24),l=n(49),p=n.n(l),c=n(0),f=n.n(c),d=n(25),h=n(61),m=n(521),g=n(54),y=n(516),v=n(27),x=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).columns=[{title:"Property",dataIndex:"key",key:"key"},{title:"Value",dataIndex:"value",key:"value",render:function(e,t){return f.a.createElement("span",null,f.a.createElement(h.a,{onPressEnter:function(e){return n.saveSetting(t,e.target.value)},defaultValue:t.value}))}}],n.configKeyValue=function(e){return Object.entries(e).map(function(e){var t=r(e,2);return{key:t[0],value:t[1]}})},n.state={config:[],error:""},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"saveSetting",value:function(e,t){var n=this;p.a.put("/api/config",{setting:e.key,value:t}).then(function(){return n.settingSaved(e.key,t)}).catch(function(e){return n.props.errorMessage("".concat(e.response.status,": ").concat(e.response.statusText,". ").concat(e.response.data))})}},{key:"settingSaved",value:function(e,t){this.props.infoMessage("Setting '".concat(e,"' saved as '").concat(t,"'")),this.refresh()}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=this;p.a.get("/api/config").then(function(t){return e.setState({config:e.configKeyValue(t.data),error:""})}).catch(function(t){return e.props.errorMsg("Unable to fetch configuration "+t)})}},{key:"configBackup",value:function(){var e=this;this.props.loading(!0),p.a.post("/api/config/backup").then(function(t){e.props.loading(!1),e.props.infoMessage(t.data)}).catch(function(t){e.props.loading(!1),e.props.errorMessage("".concat(t.response.status,": ").concat(t.response.statusText,". ").concat(t.response.data))})}},{key:"render",value:function(){return f.a.createElement(m.a.Content,{style:{padding:"25px 50px",textAlign:"center"}},f.a.createElement(g.a,{type:"primary",onClick:this.refresh.bind(this)},"Refresh"),f.a.createElement(g.a,{type:"primary",onClick:this.configBackup.bind(this)},"Backup config file"),f.a.createElement("p",null,"To modify a setting, just edit it and press enter. Not all settings are editable and will return an error if you try anywyay."),f.a.createElement(y.a,{columns:this.columns,dataSource:this.state.config,pagination:!1}))}}]),t}(c.Component);t.default=Object(d.b)(null,function(e){return{loading:function(t){return e(Object(v.i)(t))},infoMessage:function(t){return e(Object(v.h)(t))},errorMessage:function(t){return e(Object(v.g)(t))}}})(x)},61:function(e,t,n){"use strict";var r=n(2),a=n.n(r),i=n(8),o=n.n(i),s=n(5),u=n.n(s),l=n(13),p=n.n(l),c=n(4),f=n.n(c),d=n(7),h=n.n(d),m=n(0),g=n(11),y=n(14),v=n.n(y),x=n(70);var b=function(e){function t(){u()(this,t);var e=f()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleKeyDown=function(t){var n=e.props,r=n.onPressEnter,a=n.onKeyDown;13===t.keyCode&&r&&r(t),a&&a(t)},e.saveInput=function(t){e.input=t},e}return h()(t,e),p()(t,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"getInputClassName",value:function(){var e,t=this.props,n=t.prefixCls,r=t.size,a=t.disabled;return v()(n,(e={},o()(e,n+"-sm","small"===r),o()(e,n+"-lg","large"===r),o()(e,n+"-disabled",a),e))}},{key:"renderLabeledInput",value:function(e){var t,n=this.props;if(!n.addonBefore&&!n.addonAfter)return e;var r=n.prefixCls+"-group",a=r+"-addon",i=n.addonBefore?m.createElement("span",{className:a},n.addonBefore):null,s=n.addonAfter?m.createElement("span",{className:a},n.addonAfter):null,u=v()(n.prefixCls+"-wrapper",o()({},r,i||s)),l=v()(n.prefixCls+"-group-wrapper",(t={},o()(t,n.prefixCls+"-group-wrapper-sm","small"===n.size),o()(t,n.prefixCls+"-group-wrapper-lg","large"===n.size),t));return m.createElement("span",{className:l,style:n.style},m.createElement("span",{className:u},i,m.cloneElement(e,{style:null}),s))}},{key:"renderLabeledIcon",value:function(e){var t,n=this.props;if(!("prefix"in n||"suffix"in n))return e;var r=n.prefix?m.createElement("span",{className:n.prefixCls+"-prefix"},n.prefix):null,a=n.suffix?m.createElement("span",{className:n.prefixCls+"-suffix"},n.suffix):null,i=v()(n.className,n.prefixCls+"-affix-wrapper",(t={},o()(t,n.prefixCls+"-affix-wrapper-sm","small"===n.size),o()(t,n.prefixCls+"-affix-wrapper-lg","large"===n.size),t));return m.createElement("span",{className:i,style:n.style},r,m.cloneElement(e,{style:null,className:this.getInputClassName()}),a)}},{key:"renderInput",value:function(){var e=this.props,t=e.value,n=e.className,r=Object(x.a)(this.props,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix"]);return"value"in this.props&&(r.value=function(e){return"undefined"===typeof e||null===e?"":e}(t),delete r.defaultValue),this.renderLabeledIcon(m.createElement("input",a()({},r,{className:v()(this.getInputClassName(),n),onKeyDown:this.handleKeyDown,ref:this.saveInput})))}},{key:"render",value:function(){return this.renderLabeledInput(this.renderInput())}}]),t}(m.Component),w=b;b.defaultProps={prefixCls:"ant-input",type:"text",disabled:!1},b.propTypes={type:g.string,id:g.oneOfType([g.string,g.number]),size:g.oneOf(["small","default","large"]),maxLength:g.oneOfType([g.string,g.number]),disabled:g.bool,value:g.any,defaultValue:g.any,className:g.string,addonBefore:g.node,addonAfter:g.node,prefixCls:g.string,onPressEnter:g.func,onKeyDown:g.func,onKeyUp:g.func,onFocus:g.func,onBlur:g.func,prefix:g.node,suffix:g.node};var C=function(e){var t,n=e.prefixCls,r=void 0===n?"ant-input-group":n,a=e.className,i=void 0===a?"":a,s=v()(r,(t={},o()(t,r+"-lg","large"===e.size),o()(t,r+"-sm","small"===e.size),o()(t,r+"-compact",e.compact),t),i);return m.createElement("span",{className:s,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)},k=n(15),E=n(54),A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},z=function(e){function t(){u()(this,t);var e=f()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onSearch=function(t){var n=e.props.onSearch;n&&n(e.input.input.value,t),e.input.focus()},e.saveInput=function(t){e.input=t},e}return h()(t,e),p()(t,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"getButtonOrIcon",value:function(){var e=this.props,t=e.enterButton,n=e.prefixCls,r=e.size,a=e.disabled,i=t,o=void 0;return o=t?i.type===E.a||"button"===i.type?m.cloneElement(i,i.type===E.a?{className:n+"-button",size:r}:{}):m.createElement(E.a,{className:n+"-button",type:"primary",size:r,disabled:a,key:"enterButton"},!0===t?m.createElement(k.a,{type:"search"}):t):m.createElement(k.a,{className:n+"-icon",type:"search",key:"searchIcon"}),m.cloneElement(o,{onClick:this.onSearch})}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.prefixCls,i=t.inputPrefixCls,s=t.size,u=t.suffix,l=t.enterButton,p=A(t,["className","prefixCls","inputPrefixCls","size","suffix","enterButton"]);delete p.onSearch;var c=this.getButtonOrIcon(),f=u?[u,c]:c,d=v()(r,n,(e={},o()(e,r+"-enter-button",!!l),o()(e,r+"-"+s,!!s),e));return m.createElement(w,a()({onPressEnter:this.onSearch},p,{size:s,className:d,prefixCls:i,suffix:f,ref:this.saveInput}))}}]),t}(m.Component),N=z;z.defaultProps={inputPrefixCls:"ant-input",prefixCls:"ant-input-search",enterButton:!1};var O="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",S=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],P={},I=void 0;function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;I||(I=document.createElement("textarea"),document.body.appendChild(I)),e.getAttribute("wrap")?I.setAttribute("wrap",e.getAttribute("wrap")):I.removeAttribute("wrap");var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&P[n])return P[n];var r=window.getComputedStyle(e),a=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),i=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),o=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s={sizingStyle:S.map(function(e){return e+":"+r.getPropertyValue(e)}).join(";"),paddingSize:i,borderSize:o,boxSizing:a};return t&&n&&(P[n]=s),s}(e,t),i=a.paddingSize,o=a.borderSize,s=a.boxSizing,u=a.sizingStyle;I.setAttribute("style",u+";"+O),I.value=e.value||e.placeholder||"";var l=Number.MIN_SAFE_INTEGER,p=Number.MAX_SAFE_INTEGER,c=I.scrollHeight,f=void 0;if("border-box"===s?c+=o:"content-box"===s&&(c-=i),null!==n||null!==r){I.value=" ";var d=I.scrollHeight-i;null!==n&&(l=d*n,"border-box"===s&&(l=l+i+o),c=Math.max(l,c)),null!==r&&(p=d*r,"border-box"===s&&(p=p+i+o),f=c>p?"":"hidden",c=Math.min(p,c))}return r||(f="hidden"),{height:c,minHeight:l,maxHeight:p,overflowY:f}}var j=function(e){function t(){u()(this,t);var e=f()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={textareaStyles:{}},e.resizeTextarea=function(){var t=e.props.autosize;if(t&&e.textAreaRef){var n=t?t.minRows:null,r=t?t.maxRows:null,a=T(e.textAreaRef,!1,n,r);e.setState({textareaStyles:a})}},e.handleTextareaChange=function(t){"value"in e.props||e.resizeTextarea();var n=e.props.onChange;n&&n(t)},e.handleKeyDown=function(t){var n=e.props,r=n.onPressEnter,a=n.onKeyDown;13===t.keyCode&&r&&r(t),a&&a(t)},e.saveTextAreaRef=function(t){e.textAreaRef=t},e}return h()(t,e),p()(t,[{key:"componentDidMount",value:function(){this.resizeTextarea()}},{key:"componentWillReceiveProps",value:function(e){var t,n;this.props.value!==e.value&&(this.nextFrameActionId&&(n=this.nextFrameActionId,window.cancelAnimationFrame?window.cancelAnimationFrame(n):window.clearTimeout(n)),this.nextFrameActionId=(t=this.resizeTextarea,window.requestAnimationFrame?window.requestAnimationFrame(t):window.setTimeout(t,1)))}},{key:"focus",value:function(){this.textAreaRef.focus()}},{key:"blur",value:function(){this.textAreaRef.blur()}},{key:"getTextAreaClassName",value:function(){var e=this.props,t=e.prefixCls,n=e.className,r=e.disabled;return v()(t,n,o()({},t+"-disabled",r))}},{key:"render",value:function(){var e=this.props,t=Object(x.a)(e,["prefixCls","onPressEnter","autosize"]),n=a()({},e.style,this.state.textareaStyles);return"value"in t&&(t.value=t.value||""),m.createElement("textarea",a()({},t,{className:this.getTextAreaClassName(),style:n,onKeyDown:this.handleKeyDown,onChange:this.handleTextareaChange,ref:this.saveTextAreaRef}))}}]),t}(m.Component),B=j;j.defaultProps={prefixCls:"ant-input"},w.Group=C,w.Search=N,w.TextArea=B;t.a=w}}]);
//# sourceMappingURL=11.9d4bbacc.chunk.js.map